(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),i=n.n(c),u=n(19),s=n(73),o=(n(83),n(43)),l=n.n(o),d=function(e){return e.inventory.units},v=function(e){return e.inventory.selectedUnits},m=function(e){return e.inventory.capacity},f=n(35),p=n(36),h=n(64),b=n.n(h),y=n(37),_=n.n(y);var k=function(e){var t=e.unit,n=e.onSelect,r=e.isSelected,c=Object(p.b)().t,i=b()(_.a.container,Object(f.a)({},_.a.selected,r));return a.a.createElement("div",{className:i,onClick:function(){return n(t.id)}},a.a.createElement("div",{className:_.a.rank},c(t.rank)),t.type)},g=n(65),O=n.n(g);var j=function(){return a.a.createElement("div",{className:O.a.container})},x=n(16),E=n(11),w="inventory/PURCHASE_UNIT",S="inventory/ADD_UNIT",I="inventory/TOGGLE_SELECT_UNIT",D="inventory/SELL_UNIT",T="inventory/REMOVE_UNIT";function U(e){return{type:S,unit:e}}var X={capacity:5,units:[],selectedUnits:[]};var N=function(){var e=Object(u.b)(),t=Object(u.c)(d),n=Object(u.c)(v),c=Object(u.c)(m);return a.a.createElement(r.Fragment,null,a.a.createElement("p",null,a.a.createElement("button",{disabled:t.length===c,onClick:function(){return e({type:w,price:10})}},"Purchase"),a.a.createElement("button",{disabled:!n.length,onClick:function(){return e({type:D,ids:n})}},"Sell")),t.map(function(t,r){return a.a.createElement(k,{key:r,unit:t,isSelected:n.includes(t.id),onSelect:function(t){return e(function(e){return{type:I,id:e}}(t))}})}),c>t.length&&Array.from({length:c-t.length}).map(function(e,t){return a.a.createElement(j,{key:t})}))},C=n(22),L=n(66),A=n.n(L),M=n(28),B={url:null,image:null,status:null};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(r.useState)(B),a=Object(M.a)(n,2),c=a[0],i=a[1],u=c.image,s=c.status;return Object(r.useEffect)(function(){if(e){var n=new Image;return n.addEventListener("load",r),n.addEventListener("error",a),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",r),n.removeEventListener("error",a)}}function r(){i({url:e,image:n,status:"loaded"})}function a(){i({url:e,image:n,status:"failed"})}},[e,t]),{image:u,status:s}}var F=function(e){var t=e.x,n=e.y,r=e.health,c=P(A.a),i=c.image,u=c.status;return i&&"loaded"===u?a.a.createElement(C.Sprite,{width:245,height:334,x:t-120,y:n-270,image:i,animations:{phase1:[5,5,245,334],phase2:[260,5,245,334],phase3:[515,5,245,334]},animation:"phase1",ref:function(e){e&&(e.cache(),r>66?e.animation("phase1"):r>33?e.animation("phase2"):r>0&&e.animation("phase3"))},frameRate:1}):null},R=n(67),W=n.n(R);var G=function(e){var t=e.x,n=e.y,r=P(W.a),c=r.image,i=r.status;return c&&"loaded"===i?a.a.createElement(C.Image,{width:800,height:438,x:t-400,y:n-219,image:c}):null};var H=function(e){var t=e.width,n=e.height;return a.a.createElement(C.Stage,{width:t,height:n},a.a.createElement(C.Layer,null,a.a.createElement(G,{x:t/2,y:n/2}),a.a.createElement(F,{x:t/2,y:n/2,health:80})))},J=function(e){return e.bank.amount};var V=function(){var e=Object(u.c)(J);return a.a.createElement(r.Fragment,null,"Balance: ",Math.floor(e))},q=n(68),K=n.n(q);var Z=function(){var e=Object(r.useRef)(null),t=K()(e),n=t.width,c=t.height;return a.a.createElement("div",{className:l.a.container},a.a.createElement("div",null,a.a.createElement("h1",null,"Bank"),a.a.createElement(V,null)),a.a.createElement("div",{ref:e,className:l.a.canvasContainer},a.a.createElement(H,{width:n,height:c})),a.a.createElement("div",null,a.a.createElement("h1",null,"Units"),a.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=n(17),z=n(74),Q=n(69),Y="bank/ADD_FUNDS",ee="bank/WITHDRAW_FUNDS";function te(e){return{type:Y,amount:e}}var ne={amount:100};var re={baseIncome:1,incomeMultiplier:1.08};var ae="time/TICK";function ce(e){return{type:ae,currentTime:e}}var ie={currentTime:0,lastTime:0};var ue=Object($.c)({bank:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(E.a)({},e,{amount:e.amount+t.amount});case ee:return Object(E.a)({},e,{amount:e.amount-t.amount});default:return e}},income:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return arguments.length>1&&arguments[1],e},inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(E.a)({},e,{units:[].concat(Object(x.a)(e.units),[t.unit])});case I:var n=e.selectedUnits.includes(t.id);return Object(E.a)({},e,{selectedUnits:n?Object(x.a)(e.selectedUnits.filter(function(e){return e!==t.id})):[].concat(Object(x.a)(e.selectedUnits),[t.id])});case T:return Object(E.a)({},e,{units:Object(x.a)(e.units.filter(function(e){return!t.ids.includes(e.id)})),selectedUnits:Object(x.a)(e.selectedUnits.filter(function(e){return!t.ids.includes(e)}))});default:return e}},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(E.a)({},e,{currentTime:t.currentTime,lastTime:e.currentTime});default:return e}}}),se=n(10),oe=n.n(se),le=n(9),de=oe.a.mark(ve);function ve(){var e,t,n=arguments;return oe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=n.length>0&&void 0!==n[0]?n[0]:1e3;case 1:return t=(new Date).getTime(),r.next=5,Object(le.b)(ce(t));case 5:return r.next=7,Object(le.a)(e);case 7:r.next=1;break;case 9:case"end":return r.stop()}},de)}var me=function(e){return 0===e.time.lastTime?0:e.time.currentTime-e.time.lastTime},fe=function(e){return{baseIncome:e.income.baseIncome,incomeMultiplier:e.income.incomeMultiplier}},pe=oe.a.mark(be),he=oe.a.mark(ye);function be(){var e,t,n,r,a;return oe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(le.c)(me);case 2:return e=c.sent,c.next=5,Object(le.c)(fe);case 5:if(t=c.sent,n=t.baseIncome,r=t.incomeMultiplier,!(e>0)){c.next=13;break}return a=n*r*(e/1e3),c.next=13,Object(le.b)(te(a));case 13:case"end":return c.stop()}},pe)}function ye(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.e)(ae,be);case 2:case"end":return e.stop()}},he)}var _e=n(70);function ke(){var e=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),t=2*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),n=e+function(e){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)*(t-e+1);return Math.abs(Math.floor(n-t/2))}var ge=n(71),Oe=n.n(ge),je=[{start:0,end:10,value:"type_1"},{start:10,end:20,value:"type_2"},{start:20,end:30,value:"type_3"},{start:30,end:40,value:"type_4"},{start:40,end:50,value:"type_5"},{start:50,end:60,value:"type_6"},{start:60,end:70,value:"type_7"},{start:70,end:80,value:"type_8"},{start:80,end:90,value:"type_9"},{start:90,end:100,value:"type_10"}],xe=je.reduce(function(e,t){for(var n=t.start,r=t.end,a=t.value,c=n;c<=r;c++)e[c]=a;return e},{});function Ee(){var e=ke(0,100);return xe[e]}var we=[{start:0,end:10,value:"rank_D"},{start:10,end:20,value:"rank_C"},{start:20,end:30,value:"rank_B"},{start:30,end:40,value:"rank_A"},{start:40,end:50,value:"rank_S"},{start:50,end:60,value:"rank_SS"},{start:60,end:70,value:"rank_SSS"},{start:70,end:80,value:"rank_XD"},{start:80,end:90,value:"rank_SXD"},{start:90,end:100,value:"rank_XXX"}].reduce(function(e,t){for(var n=t.start,r=t.end,a=t.value,c=n;c<=r;c++)e[c]=a;return e},{});function Se(){var e=ke(0,100);return we[e]}function Ie(e,t){return 2*je.findIndex(function(t){return t.value===e})}function De(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(_e.a)(oe.a.mark(function e(t){var n,r;return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee(),r=Se(),e.abrupt("return",{id:Oe.a.v4(),type:n,rank:r,salePrice:Ie(n)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ue=oe.a.mark(Le),Xe=oe.a.mark(Ae),Ne=oe.a.mark(Me),Ce=oe.a.mark(Be);function Le(e){var t,n,r,a;return oe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(le.c)(J);case 2:return t=c.sent,c.next=5,Object(le.c)(d);case 5:return n=c.sent,c.next=8,Object(le.c)(m);case 8:if(r=c.sent,!(n.length>=r)){c.next=11;break}return c.abrupt("return");case 11:if(!(t<e.price)){c.next=13;break}return c.abrupt("return");case 13:return c.next=15,Object(le.b)((i=e.price,{type:ee,amount:i}));case 15:return c.next=17,De(e.price);case 17:return a=c.sent,c.next=20,Object(le.b)(U(a));case 20:case"end":return c.stop()}var i},Ue)}function Ae(e){var t,n;return oe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(le.c)(d);case 2:return t=r.sent,n=t.filter(function(t){return e.ids.includes(t.id)}).reduce(function(e,t){return e+t.salePrice},0),r.next=6,Object(le.b)((a=e.ids,{type:T,ids:a}));case 6:return r.next=8,Object(le.b)(te(n));case 8:case"end":return r.stop()}var a},Xe)}function Me(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.e)(w,Le);case 2:case"end":return e.stop()}},Ne)}function Be(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.e)(D,Ae);case 2:case"end":return e.stop()}},Ce)}var Pe=oe.a.mark(Fe);function Fe(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.d)(ve,1e3);case 2:return e.next=4,Object(le.d)(ye);case 4:return e.next=6,Object(le.d)(Me);case 6:return e.next=8,Object(le.d)(Be);case 8:case"end":return e.stop()}},Pe)}var Re=Object(z.a)(),We=(Object(Q.createLogger)({collapsed:!1,predicate:function(e,t){return!t.type.startsWith("time/")&&"bank/ADD_FUNDS"!==t.type}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[Re].concat(Object(x.a)([]));return Object($.e)(ue,e,$.a.apply(void 0,Object(x.a)(t)))}());Re.run(Fe);var Ge=We,He=n(46);He.a.use(p.a).init({resources:{en:{translation:{rank_D:"D",rank_C:"C",rank_B:"B",rank_A:"A",rank_S:"S",rank_SS:"SS",rank_SSS:"SSS",rank_XD:"XD",rank_SXD:"SXD",rank_XXX:"XXX"}}},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var Je;He.a;Je=Z,i.a.render(a.a.createElement(u.a,{store:Ge},a.a.createElement(s.a,null,a.a.createElement(Je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,n){e.exports={container:"InventoryItem_container__1Dv4r",selected:"InventoryItem_selected__2lEgZ",rank:"InventoryItem_rank__3dXq4"}},43:function(e,t,n){e.exports={container:"App_container__MrPuh",canvasContainer:"App_canvasContainer__1PPLI"}},65:function(e,t,n){e.exports={container:"EmptyInventoryItem_container__1tm6h"}},66:function(e,t,n){e.exports=n.p+"static/media/stone-spritesheet.f76a2746.png"},67:function(e,t,n){e.exports=n.p+"static/media/grass-flat.3a57d4c1.png"},75:function(e,t,n){e.exports=n(144)},83:function(e,t,n){}},[[75,1,2]]]);