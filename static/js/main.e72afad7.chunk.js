(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(32),i=n.n(c),u=n(19),s=n(72),o=(n(82),n(43)),l=n.n(o),d=function(e){return e.inventory.units},v=function(e){return e.inventory.selectedUnits},m=function(e){return e.inventory.capacity},f=n(35),p=n(36),b=n(64),h=n.n(b),k=n(37),_=n.n(k);var y=function(e){var t=e.unit,n=e.onSelect,r=e.isSelected,c=Object(p.b)().t,i=h()(_.a.container,Object(f.a)({},_.a.selected,r));return a.a.createElement("div",{className:i,onClick:function(){return n(t.id)}},a.a.createElement("div",{className:_.a.rank},c(t.rank)),t.type)},O=n(65),g=n.n(O);var j=function(){return a.a.createElement("div",{className:g.a.container})},x=n(16),E=n(11),w="inventory/PURCHASE_UNIT",S="inventory/ADD_UNIT",I="inventory/TOGGLE_SELECT_UNIT",D="inventory/SELL_UNIT",T="inventory/REMOVE_UNIT";function U(e){return{type:S,unit:e}}var X={capacity:5,units:[],selectedUnits:[]};var N=function(){var e=Object(u.b)(),t=Object(u.c)(d),n=Object(u.c)(v),c=Object(u.c)(m);return a.a.createElement(r.Fragment,null,a.a.createElement("p",null,a.a.createElement("button",{disabled:t.length===c,onClick:function(){return e({type:w,price:10})}},"Purchase"),a.a.createElement("button",{disabled:!n.length,onClick:function(){return e({type:D,ids:n})}},"Sell")),t.map(function(t,r){return a.a.createElement(y,{key:r,unit:t,isSelected:n.includes(t.id),onSelect:function(t){return e(function(e){return{type:I,id:e}}(t))}})}),c>t.length&&Array.from({length:c-t.length}).map(function(e,t){return a.a.createElement(j,{key:t})}))},C=n(24),L=n(66),A=n.n(L),M=n(28),B={url:null,image:null,status:null};var P=function(e){var t=e.x,n=e.y,c=e.health,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(r.useState)(B),a=Object(M.a)(n,2),c=a[0],i=a[1],u=c.image,s=c.status;return Object(r.useEffect)(function(){if(e){var n=new Image;return n.addEventListener("load",r),n.addEventListener("error",a),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",r),n.removeEventListener("error",a)}}function r(){i({url:e,image:n,status:"loaded"})}function a(){i({url:e,image:n,status:"failed"})}},[e,t]),{image:u,status:s}}(A.a),u=i.image,s=i.status;return u&&"loaded"===s?a.a.createElement(C.Sprite,{width:245,height:334,x:t-120,y:n-190,image:u,animations:{phase1:[5,5,245,334],phase2:[260,5,245,334],phase3:[515,5,245,334]},animation:"phase1",ref:function(e){e&&(e.cache(),c>66?e.animation("phase1"):c>33?e.animation("phase2"):c>0&&e.animation("phase3"))},frameRate:1}):null};var W=function(e){var t=e.width,n=e.height;return a.a.createElement(C.Stage,{width:t,height:n},a.a.createElement(C.Layer,null,a.a.createElement(C.Ellipse,{x:t/2,y:n/2,radiusX:300,radiusY:120,fill:"green",stroke:"black",strokeWidth:1}),a.a.createElement(P,{x:t/2,y:n/2-80,health:80})))},F=function(e){return e.bank.amount};var R=function(){var e=Object(u.c)(F);return a.a.createElement(r.Fragment,null,"Balance: ",Math.floor(e))},G=n(67),H=n.n(G);var J=function(){var e=Object(r.useRef)(null),t=H()(e),n=t.width,c=t.height;return a.a.createElement("div",{className:l.a.container},a.a.createElement("div",null,a.a.createElement("h1",null,"Bank"),a.a.createElement(R,null)),a.a.createElement("div",{ref:e,className:l.a.canvasContainer},a.a.createElement(W,{width:n,height:c})),a.a.createElement("div",null,a.a.createElement("h1",null,"Units"),a.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(17),q=n(73),K=n(68),Y="bank/ADD_FUNDS",Z="bank/WITHDRAW_FUNDS";function $(e){return{type:Y,amount:e}}var z={amount:100};var Q={baseIncome:1,incomeMultiplier:1.08};var ee="time/TICK";function te(e){return{type:ee,currentTime:e}}var ne={currentTime:0,lastTime:0};var re=Object(V.c)({bank:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(E.a)({},e,{amount:e.amount+t.amount});case Z:return Object(E.a)({},e,{amount:e.amount-t.amount});default:return e}},income:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return arguments.length>1&&arguments[1],e},inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(E.a)({},e,{units:[].concat(Object(x.a)(e.units),[t.unit])});case I:var n=e.selectedUnits.includes(t.id);return Object(E.a)({},e,{selectedUnits:n?Object(x.a)(e.selectedUnits.filter(function(e){return e!==t.id})):[].concat(Object(x.a)(e.selectedUnits),[t.id])});case T:return Object(E.a)({},e,{units:Object(x.a)(e.units.filter(function(e){return!t.ids.includes(e.id)})),selectedUnits:Object(x.a)(e.selectedUnits.filter(function(e){return!t.ids.includes(e)}))});default:return e}},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(E.a)({},e,{currentTime:t.currentTime,lastTime:e.currentTime});default:return e}}}),ae=n(10),ce=n.n(ae),ie=n(9),ue=ce.a.mark(se);function se(){var e,t,n=arguments;return ce.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=n.length>0&&void 0!==n[0]?n[0]:1e3;case 1:return t=(new Date).getTime(),r.next=5,Object(ie.b)(te(t));case 5:return r.next=7,Object(ie.a)(e);case 7:r.next=1;break;case 9:case"end":return r.stop()}},ue)}var oe=function(e){return 0===e.time.lastTime?0:e.time.currentTime-e.time.lastTime},le=function(e){return{baseIncome:e.income.baseIncome,incomeMultiplier:e.income.incomeMultiplier}},de=ce.a.mark(me),ve=ce.a.mark(fe);function me(){var e,t,n,r,a;return ce.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ie.c)(oe);case 2:return e=c.sent,c.next=5,Object(ie.c)(le);case 5:if(t=c.sent,n=t.baseIncome,r=t.incomeMultiplier,!(e>0)){c.next=13;break}return a=n*r*(e/1e3),c.next=13,Object(ie.b)($(a));case 13:case"end":return c.stop()}},de)}function fe(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.e)(ee,me);case 2:case"end":return e.stop()}},ve)}var pe=n(69);function be(){var e=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),t=2*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),n=e+function(e){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)*(t-e+1);return Math.abs(Math.floor(n-t/2))}var he=n(70),ke=n.n(he),_e=[{start:0,end:10,value:"type_1"},{start:10,end:20,value:"type_2"},{start:20,end:30,value:"type_3"},{start:30,end:40,value:"type_4"},{start:40,end:50,value:"type_5"},{start:50,end:60,value:"type_6"},{start:60,end:70,value:"type_7"},{start:70,end:80,value:"type_8"},{start:80,end:90,value:"type_9"},{start:90,end:100,value:"type_10"}],ye=_e.reduce(function(e,t){for(var n=t.start,r=t.end,a=t.value,c=n;c<=r;c++)e[c]=a;return e},{});function Oe(){var e=be(0,100);return ye[e]}var ge=[{start:0,end:10,value:"rank_D"},{start:10,end:20,value:"rank_C"},{start:20,end:30,value:"rank_B"},{start:30,end:40,value:"rank_A"},{start:40,end:50,value:"rank_S"},{start:50,end:60,value:"rank_SS"},{start:60,end:70,value:"rank_SSS"},{start:70,end:80,value:"rank_XD"},{start:80,end:90,value:"rank_SXD"},{start:90,end:100,value:"rank_XXX"}].reduce(function(e,t){for(var n=t.start,r=t.end,a=t.value,c=n;c<=r;c++)e[c]=a;return e},{});function je(){var e=be(0,100);return ge[e]}function xe(e,t){return 2*_e.findIndex(function(t){return t.value===e})}function Ee(e){return we.apply(this,arguments)}function we(){return(we=Object(pe.a)(ce.a.mark(function e(t){var n,r;return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe(),r=je(),e.abrupt("return",{id:ke.a.v4(),type:n,rank:r,salePrice:xe(n)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Se=ce.a.mark(Ue),Ie=ce.a.mark(Xe),De=ce.a.mark(Ne),Te=ce.a.mark(Ce);function Ue(e){var t,n,r,a;return ce.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ie.c)(F);case 2:return t=c.sent,c.next=5,Object(ie.c)(d);case 5:return n=c.sent,c.next=8,Object(ie.c)(m);case 8:if(r=c.sent,!(n.length>=r)){c.next=11;break}return c.abrupt("return");case 11:if(!(t<e.price)){c.next=13;break}return c.abrupt("return");case 13:return c.next=15,Object(ie.b)((i=e.price,{type:Z,amount:i}));case 15:return c.next=17,Ee(e.price);case 17:return a=c.sent,c.next=20,Object(ie.b)(U(a));case 20:case"end":return c.stop()}var i},Se)}function Xe(e){var t,n;return ce.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ie.c)(d);case 2:return t=r.sent,n=t.filter(function(t){return e.ids.includes(t.id)}).reduce(function(e,t){return e+t.salePrice},0),r.next=6,Object(ie.b)((a=e.ids,{type:T,ids:a}));case 6:return r.next=8,Object(ie.b)($(n));case 8:case"end":return r.stop()}var a},Ie)}function Ne(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.e)(w,Ue);case 2:case"end":return e.stop()}},De)}function Ce(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.e)(D,Xe);case 2:case"end":return e.stop()}},Te)}var Le=ce.a.mark(Ae);function Ae(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.d)(se,1e3);case 2:return e.next=4,Object(ie.d)(fe);case 4:return e.next=6,Object(ie.d)(Ne);case 6:return e.next=8,Object(ie.d)(Ce);case 8:case"end":return e.stop()}},Le)}var Me=Object(q.a)(),Be=(Object(K.createLogger)({collapsed:!1,predicate:function(e,t){return!t.type.startsWith("time/")&&"bank/ADD_FUNDS"!==t.type}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[Me].concat(Object(x.a)([]));return Object(V.e)(re,e,V.a.apply(void 0,Object(x.a)(t)))}());Me.run(Ae);var Pe=Be,We=n(46);We.a.use(p.a).init({resources:{en:{translation:{rank_D:"D",rank_C:"C",rank_B:"B",rank_A:"A",rank_S:"S",rank_SS:"SS",rank_SSS:"SSS",rank_XD:"XD",rank_SXD:"SXD",rank_XXX:"XXX"}}},lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var Fe;We.a;Fe=J,i.a.render(a.a.createElement(u.a,{store:Pe},a.a.createElement(s.a,null,a.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,n){e.exports={container:"InventoryItem_container__1Dv4r",selected:"InventoryItem_selected__2lEgZ",rank:"InventoryItem_rank__3dXq4"}},43:function(e,t,n){e.exports={container:"App_container__MrPuh",canvasContainer:"App_canvasContainer__1PPLI"}},65:function(e,t,n){e.exports={container:"EmptyInventoryItem_container__1tm6h"}},66:function(e,t,n){e.exports=n.p+"static/media/stone-spritesheet.f76a2746.png"},74:function(e,t,n){e.exports=n(143)},82:function(e,t,n){}},[[74,1,2]]]);